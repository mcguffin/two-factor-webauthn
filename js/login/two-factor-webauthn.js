!function(){var e={};(function(n){"use strict";(a="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null)&&a.__esModule;var a,t="credentials"in navigator;e={login:function(e,n){e.action;var a=e.payload;e._wpnonce,function(e,n){var a=e.challenge,t=Object.assign({},e);t.challenge=new Uint8Array(e.challenge),t.allowCredentials=t.allowCredentials.map(function(e){var n=Object.assign({},e);return n.id=new Uint8Array(e.id),n}),navigator.credentials.get({publicKey:t}).then(function(e){var t=[];new Uint8Array(e.rawId).forEach(function(e){t.push(e)});var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.response.clientDataJSON))),o=[];new Uint8Array(e.response.clientDataJSON).forEach(function(e){o.push(e)});var r=[];new Uint8Array(e.response.authenticatorData).forEach(function(e){r.push(e)});var l=[];new Uint8Array(e.response.signature).forEach(function(e){l.push(e)});var u={type:e.type,originalChallenge:a,rawId:t,response:{authenticatorData:r,clientData:i,clientDataJSONarray:o,signature:l}};n(!0,JSON.stringify(u))}).catch(function(e){console.log(e),n(!1,"name"in e?e.name+": "+e.message:e.toString())})}(a,function(e,a){n(e?{success:!0,result:a}:{success:!1,message:a})})},isWebauthnSupported:t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),function(n){"use strict";var a,t=(a="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null)&&a.__esModule?a:{default:a},i=function(){(0,t.default)(".webauthn-retry").removeClass("visible"),(0,e.login)(window.webauthnL10n,function(e){e.success?((0,t.default)("#webauthn_response").val(e.result),(0,t.default)("#loginform").submit()):(0,t.default)(".webauthn-retry").addClass("visible")})};window.webauthnL10n||console.error("webauthL10n is not defined"),e.isWebauthnSupported?(0,t.default)(document).ready(i).on("click",".webauthn-retry-link",i):(0,t.default)(".webauthn-unsupported").addClass("visible")}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsInNyYy9qcy9saWIvZGF2aWRlYXJsLXdlYmF1dGhuLmpzIiwic3JjL2pzL2xvZ2luL3R3by1mYWN0b3Itd2ViYXV0aG4vaW5kZXguanMiXSwibmFtZXMiOlsiXyRkYXZpZGVhcmxXZWJhdXRobl8xIiwib2JqIiwid2luZG93IiwialF1ZXJ5IiwiZ2xvYmFsIiwiX19lc01vZHVsZSIsImlzV2ViYXV0aG5TdXBwb3J0ZWQiLCJuYXZpZ2F0b3IiLCJsb2dpbiIsIm9wdHMiLCJjYWxsYmFjayIsImFjdGlvbiIsInBheWxvYWQiLCJfd3Bub25jZSIsInB1YktleUF1dGgiLCJvcmlnaW5hbENoYWxsZW5nZSIsImNoYWxsZW5nZSIsInBrIiwiT2JqZWN0IiwiYXNzaWduIiwiVWludDhBcnJheSIsImFsbG93Q3JlZGVudGlhbHMiLCJtYXAiLCJrIiwicmV0IiwiaWQiLCJjcmVkZW50aWFscyIsImdldCIsInB1YmxpY0tleSIsInRoZW4iLCJhQXNzZXJ0aW9uIiwiaWRhIiwicmF3SWQiLCJmb3JFYWNoIiwidiIsInB1c2giLCJjZCIsIkpTT04iLCJwYXJzZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwicmVzcG9uc2UiLCJjbGllbnREYXRhSlNPTiIsImNkYSIsImFkIiwiYXV0aGVudGljYXRvckRhdGEiLCJzaWciLCJzaWduYXR1cmUiLCJpbmZvIiwidHlwZSIsImNsaWVudERhdGEiLCJjbGllbnREYXRhSlNPTmFycmF5Iiwic3RyaW5naWZ5IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsIm1lc3NhZ2UiLCJ0b1N0cmluZyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJfanF1ZXJ5IiwiZGVmYXVsdCIsImF1dGgiLCJyZW1vdmVDbGFzcyIsIndlYmF1dGhuTDEwbiIsInZhbCIsInN1Ym1pdCIsImFkZENsYXNzIiwiZXJyb3IiLCJkb2N1bWVudCIsInJlYWR5Iiwib24iXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsSUFBQUEsRUFBQSw4QkNEQUMsRUFBQSxvQkFBQUMsT0FBQUEsT0FBQUMsWUFBQSxJQUFBQyxFQUFBQSxFQUFBRCxPQUFBLE9BQUFGLEVBQUFJLFdBQUEsSUFBQUosRUErTE1LLEVBQXNCLGdCQUFpQkMsVUFFN0NQLEVBQWlCLENBRWhCUSxNQTVCYSxTQUFFQyxFQUFNQyxHQUVpQkQsRUFBOUJFLE9BRjJCLElBRW5CQyxFQUFzQkgsRUFBdEJHLFFBQXNCSCxFQUFiSSxTQWpLMUIsU0FBK0JDLEVBQVlKLEdBRTFDLElBQU1LLEVBQW9CRCxFQUFXRSxVQUMvQkMsRUFBS0MsT0FBT0MsT0FBUSxHQUFJTCxHQUU5QkcsRUFBR0QsVUFBWSxJQUFJSSxXQUFZTixFQUFXRSxXQUMxQ0MsRUFBR0ksaUJBQW1CSixFQUFHSSxpQkFBaUJDLElBQUssU0FBQUMsR0FDOUMsSUFBSUMsRUFBTU4sT0FBT0MsT0FBUSxHQUFJSSxHQUU3QixPQURBQyxFQUFJQyxHQUFLLElBQUlMLFdBQVdHLEVBQUVFLElBQ25CRCxJQUlSakIsVUFBVW1CLFlBQVlDLElBQUssQ0FBRUMsVUFBV1gsSUFDdENZLEtBQU0sU0FBQUMsR0FFTixJQUFJQyxFQUFNLEdBQ1QsSUFBSVgsV0FBV1UsRUFBV0UsT0FBUUMsUUFBUSxTQUFTQyxHQUFJSCxFQUFJSSxLQUFLRCxLQUNqRSxJQUFJRSxFQUFLQyxLQUFLQyxNQUFNQyxPQUFPQyxhQUFhQyxNQUFNLEtBQ2pDLElBQUlyQixXQUFXVSxFQUFXWSxTQUFTQyxrQkFDNUNDLEVBQU0sR0FDVCxJQUFJeEIsV0FBV1UsRUFBV1ksU0FBU0MsZ0JBQWlCVixRQUFRLFNBQVNDLEdBQUlVLEVBQUlULEtBQUtELEtBQ25GLElBQUlXLEVBQUssR0FDUixJQUFJekIsV0FBV1UsRUFBV1ksU0FBU0ksbUJBQW9CYixRQUFRLFNBQVNDLEdBQUlXLEVBQUdWLEtBQUtELEtBQ3JGLElBQUlhLEVBQU0sR0FDVCxJQUFJM0IsV0FBV1UsRUFBV1ksU0FBU00sV0FBWWYsUUFBUSxTQUFTQyxHQUFJYSxFQUFJWixLQUFLRCxLQUM5RSxJQUFJZSxFQUFPLENBQ1ZDLEtBQU1wQixFQUFXb0IsS0FDakJuQyxrQkFBbUJBLEVBQ25CaUIsTUFBT0QsRUFDUFcsU0FBVSxDQUNUSSxrQkFBbUJELEVBQ25CTSxXQUFZZixFQUNaZ0Isb0JBQXFCUixFQUNyQkksVUFBV0QsSUFHYnJDLEdBQUEsRUFBZ0IyQixLQUFLZ0IsVUFBV0osTUF4QmxDSyxNQTBCUyxTQUFBQyxHQUNQQyxRQUFRQyxJQUFJRixHQXdCWDdDLEdBQUEsRUFESSxTQUFVNkMsRUFDR0EsRUFBSUcsS0FBTyxLQUFPSCxFQUFJSSxRQUV0QkosRUFBSUssY0FsRXpCLENBbUt1QmhELEVBQVMsU0FBRWlELEVBQVNaLEdBRXhDdkMsRUFESW1ELEVBQ00sQ0FBRUEsU0FBQSxFQUFjQyxPQUFRYixHQUV4QixDQUFFWSxTQUFBLEVBQWVGLFFBQVNWLE9Bc0J0QzNDLG9CQUFBQSw4SUNyTUQsSUFBQUwsRUFBQThELEdBQUE5RCxFQUFBLG9CQUFBQyxPQUFBQSxPQUFBQyxZQUFBLElBQUFDLEVBQUFBLEVBQUFELE9BQUEsT0FBQUYsRUFBQUksV0FBQUosRUFBQSxDQUFBK0QsUUFBQS9ELEdBUU1nRSxFQUFPLFlBQUEsRUFDWkYsRUFBQUMsU0FBRSxtQkFBbUJFLFlBQVksWUFBQSxFQUNqQ2xFLEVBQUFRLE9BQU9OLE9BQU9pRSxhQUFjLFNBQUF6QixHQUN0QkEsRUFBU21CLFVBQUEsRUFDYkUsRUFBQUMsU0FBRSxzQkFBc0JJLElBQUsxQixFQUFTb0IsU0FBQSxFQUN0Q0MsRUFBQUMsU0FBRyxjQUFlSyxXQUFBLEVBR2xCTixFQUFBQyxTQUFFLG1CQUFtQk0sU0FBUyxjQUsxQnBFLE9BQU9pRSxjQUNiWCxRQUFRZSxNQUFPLDhCQUdYdkUsRUFBQU0scUJBQUEsRUFDSnlELEVBQUFDLFNBQUVRLFVBQ0FDLE1BQU9SLEdBQ1BTLEdBQUcsUUFBUSx1QkFBd0JULElBQUEsRUFHckNGLEVBQUFDLFNBQUUseUJBQXlCTSxTQUFTLDRIRi9CckMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSdcblxuXG5cblxuLyoqXG4gKlx0U3RvbGVuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkZWFybC93ZWJhdXRoblxuICovXG5mdW5jdGlvbiB3ZWJhdXRobkF1dGhlbnRpY2F0ZSggcHViS2V5QXV0aCwgY2FsbGJhY2sgKSB7XG5cblx0Y29uc3Qgb3JpZ2luYWxDaGFsbGVuZ2UgPSBwdWJLZXlBdXRoLmNoYWxsZW5nZTtcblx0Y29uc3QgcGsgPSBPYmplY3QuYXNzaWduKCB7fSwgcHViS2V5QXV0aCApXG5cblx0cGsuY2hhbGxlbmdlID0gbmV3IFVpbnQ4QXJyYXkoIHB1YktleUF1dGguY2hhbGxlbmdlIClcblx0cGsuYWxsb3dDcmVkZW50aWFscyA9IHBrLmFsbG93Q3JlZGVudGlhbHMubWFwKCBrID0+IHtcblx0XHRsZXQgcmV0ID0gT2JqZWN0LmFzc2lnbigge30sIGsgKVxuXHRcdHJldC5pZCA9IG5ldyBVaW50OEFycmF5KGsuaWQpO1xuXHRcdHJldHVybiByZXRcblx0fSApXG5cblx0LyogYXNrIHRoZSBicm93c2VyIHRvIHByb21wdCB0aGUgdXNlciAqL1xuXHRuYXZpZ2F0b3IuY3JlZGVudGlhbHMuZ2V0KCB7IHB1YmxpY0tleTogcGsgfSApXG5cdFx0LnRoZW4oIGFBc3NlcnRpb24gPT4ge1xuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJDcmVkZW50aWFscy5HZXQgcmVzcG9uc2U6IFwiLCBhQXNzZXJ0aW9uKTtcblx0XHRcdHZhciBpZGEgPSBbXTtcblx0XHRcdChuZXcgVWludDhBcnJheShhQXNzZXJ0aW9uLnJhd0lkKSkuZm9yRWFjaChmdW5jdGlvbih2KXsgaWRhLnB1c2godik7IH0pO1xuXHRcdFx0dmFyIGNkID0gSlNPTi5wYXJzZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBuZXcgVWludDhBcnJheShhQXNzZXJ0aW9uLnJlc3BvbnNlLmNsaWVudERhdGFKU09OKSkpO1xuXHRcdFx0dmFyIGNkYSA9IFtdO1xuXHRcdFx0KG5ldyBVaW50OEFycmF5KGFBc3NlcnRpb24ucmVzcG9uc2UuY2xpZW50RGF0YUpTT04pKS5mb3JFYWNoKGZ1bmN0aW9uKHYpeyBjZGEucHVzaCh2KTsgfSk7XG5cdFx0XHR2YXIgYWQgPSBbXTtcblx0XHRcdChuZXcgVWludDhBcnJheShhQXNzZXJ0aW9uLnJlc3BvbnNlLmF1dGhlbnRpY2F0b3JEYXRhKSkuZm9yRWFjaChmdW5jdGlvbih2KXsgYWQucHVzaCh2KTsgfSk7XG5cdFx0XHR2YXIgc2lnID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYUFzc2VydGlvbi5yZXNwb25zZS5zaWduYXR1cmUpKS5mb3JFYWNoKGZ1bmN0aW9uKHYpeyBzaWcucHVzaCh2KTsgfSk7XG5cdFx0XHR2YXIgaW5mbyA9IHtcblx0XHRcdFx0dHlwZTogYUFzc2VydGlvbi50eXBlLFxuXHRcdFx0XHRvcmlnaW5hbENoYWxsZW5nZTogb3JpZ2luYWxDaGFsbGVuZ2UsXG5cdFx0XHRcdHJhd0lkOiBpZGEsXG5cdFx0XHRcdHJlc3BvbnNlOiB7XG5cdFx0XHRcdFx0YXV0aGVudGljYXRvckRhdGE6IGFkLFxuXHRcdFx0XHRcdGNsaWVudERhdGE6IGNkLFxuXHRcdFx0XHRcdGNsaWVudERhdGFKU09OYXJyYXk6IGNkYSxcblx0XHRcdFx0XHRzaWduYXR1cmU6IHNpZ1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0Y2FsbGJhY2soIHRydWUsIEpTT04uc3RyaW5naWZ5KCBpbmZvICkgKTtcblx0XHR9KVxuXHRcdC5jYXRjaCggZXJyID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGVycilcblx0XHRcdC8qXG5cdFx0XHRGRiBtYWM6XG5cdFx0XHRJbnZhbGlkU3RhdGVFcnJvcjoga2V5IG5vdCBmb3VuZFxuXHRcdFx0QWJvcnRFcnJvcjogdXNlciBhYm9ydGVkIG9yIGRlbmllZFxuXHRcdFx0Tm90QWxsb3dlZEVycm9yOiA/XG5cdFx0XHRcdFRoZSByZXF1ZXN0IGlzIG5vdCBhbGxvd2VkIGJ5IHRoZSB1c2VyIGFnZW50IG9yIHRoZSBwbGF0Zm9ybSBpbiB0aGUgY3VycmVudCBjb250ZXh0LCBwb3NzaWJseSBiZWNhdXNlIHRoZSB1c2VyIGRlbmllZCBwZXJtaXNzaW9uLlxuXG5cdFx0XHRDaHJvbWUgbWFjOlxuXHRcdFx0Tm90QWxsb3dlZEVycm9yOiB1c2VyIGFib3J0ZWQgb3IgZGVuaWVkXG5cblx0XHRcdFNhZmFyaSBtYWM6XG5cdFx0XHROb3RBbGxvd2VkRXJyb3I6IHVzZXIgYWJvcnRlZCBvciBkZW5pZWRcblxuXHRcdFx0RWRnZSB3aW4xMDpcblx0XHRcdFVua25vd25FcnJvcjogd3Jvbmcga2V5Li4uP1xuXHRcdFx0Tm90QWxsb3dlZEVycm9yOiB1c2VyIGFib3J0ZWQgb3IgZGVuaWVkXG5cblx0XHRcdEZGIHdpbjpcblx0XHRcdE5vdEFsbG93ZWRFcnJvcjogdXNlciBhYm9ydGVkIG9yIGRlbmllZFxuXHRcdFx0XHRET01FeGNlcHRpb246IFwiVGhlIHJlcXVlc3QgaXMgbm90IGFsbG93ZWQgYnkgdGhlIHVzZXIgYWdlbnQgb3IgdGhlIHBsYXRmb3JtIGluIHRoZSBjdXJyZW50IGNvbnRleHQsIHBvc3NpYmx5IGJlY2F1c2UgdGhlIHVzZXIgZGVuaWVkIHBlcm1pc3Npb24uXCJcblxuXHRcdFx0Ki9cblx0XHRcdGlmICggXCJuYW1lXCIgaW4gZXJyICkge1xuXHRcdFx0XHRjYWxsYmFjayggZmFsc2UsIGVyci5uYW1lICsgJzogJyArIGVyci5tZXNzYWdlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYWxsYmFjayggZmFsc2UsIGVyci50b1N0cmluZygpICk7XG5cdFx0XHR9XG5cdFx0fSk7XG59XG5cbi8qKlxuICpcdFN0b2xlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGVhcmwvd2ViYXV0aG5cbiAqL1xuZnVuY3Rpb24gd2ViYXV0aG5SZWdpc3Rlcigga2V5LCBjYWxsYmFjayApe1xuXG5cdGxldCBwdWJsaWNLZXkgPSBPYmplY3QuYXNzaWduKCB7fSwga2V5LnB1YmxpY0tleSApO1xuXG5cdHB1YmxpY0tleS5hdHRlc3RhdGlvbiA9IHVuZGVmaW5lZDtcblx0cHVibGljS2V5LmNoYWxsZW5nZSA9IG5ldyBVaW50OEFycmF5KCBwdWJsaWNLZXkuY2hhbGxlbmdlICk7IC8vIGNvbnZlcnQgdHlwZSBmb3IgdXNlIGJ5IGtleVxuXHRwdWJsaWNLZXkudXNlci5pZCA9IG5ldyBVaW50OEFycmF5KCBwdWJsaWNLZXkudXNlci5pZCApO1xuXG5cdC8vIGNvbnNvbGUubG9nKGtleSk7XG5cdG5hdmlnYXRvci5jcmVkZW50aWFscy5jcmVhdGUoIHsgcHVibGljS2V5IH0gKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChhTmV3Q3JlZGVudGlhbEluZm8pIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiQ3JlZGVudGlhbHMuQ3JlYXRlIHJlc3BvbnNlOiBcIiwgYU5ld0NyZWRlbnRpYWxJbmZvKTtcblx0XHRcdHZhciBjZCA9IEpTT04ucGFyc2UoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShhTmV3Q3JlZGVudGlhbEluZm8ucmVzcG9uc2UuY2xpZW50RGF0YUpTT04pKSk7XG5cdFx0XHRpZiAoIGtleS5iNjRjaGFsbGVuZ2UgIT09IGNkLmNoYWxsZW5nZSApIHtcblx0XHRcdFx0Y2FsbGJhY2soZmFsc2UsICdrZXkgcmV0dXJuZWQgc29tZXRoaW5nIHVuZXhwZWN0ZWQgKDEpJyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiAoJ2h0dHBzOi8vJytrZXkucHVibGljS2V5LnJwLm5hbWUgIT0gY2Qub3JpZ2luKSB7XG5cdFx0XHQvLyBcdHJldHVybiBjYWxsYmFjayhmYWxzZSwgJ2tleSByZXR1cm5lZCBzb21ldGhpbmcgdW5leHBlY3RlZCAoMiknKTtcblx0XHRcdC8vIH1cblx0XHRcdGlmICghICgndHlwZScgaW4gY2QpKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjayhmYWxzZSwgJ2tleSByZXR1cm5lZCBzb21ldGhpbmcgdW5leHBlY3RlZCAoMyknKTtcblx0XHRcdH1cblx0XHRcdGlmIChjZC50eXBlICE9ICd3ZWJhdXRobi5jcmVhdGUnKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjayhmYWxzZSwgJ2tleSByZXR1cm5lZCBzb21ldGhpbmcgdW5leHBlY3RlZCAoNCknKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGFvID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYU5ld0NyZWRlbnRpYWxJbmZvLnJlc3BvbnNlLmF0dGVzdGF0aW9uT2JqZWN0KSkuZm9yRWFjaChmdW5jdGlvbih2KXtcblx0XHRcdFx0YW8ucHVzaCh2KTtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIHJhd0lkID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYU5ld0NyZWRlbnRpYWxJbmZvLnJhd0lkKSkuZm9yRWFjaChmdW5jdGlvbih2KXtcblx0XHRcdFx0cmF3SWQucHVzaCh2KTtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIGluZm8gPSB7XG5cdFx0XHRcdHJhd0lkOiByYXdJZCxcblx0XHRcdFx0aWQ6IGFOZXdDcmVkZW50aWFsSW5mby5pZCxcblx0XHRcdFx0dHlwZTogYU5ld0NyZWRlbnRpYWxJbmZvLnR5cGUsXG5cdFx0XHRcdHJlc3BvbnNlOiB7XG5cdFx0XHRcdFx0YXR0ZXN0YXRpb25PYmplY3Q6IGFvLFxuXHRcdFx0XHRcdGNsaWVudERhdGFKU09OOlxuXHRcdFx0XHRcdCAgSlNPTi5wYXJzZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGFOZXdDcmVkZW50aWFsSW5mby5yZXNwb25zZS5jbGllbnREYXRhSlNPTikpKVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0Y2FsbGJhY2sodHJ1ZSwgSlNPTi5zdHJpbmdpZnkoaW5mbykpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKCBlcnIgPT4ge1xuXHRcdFx0aWYgKCBcIm5hbWVcIiBpbiBlcnIgKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCBmYWxzZSwgZXJyLm5hbWUgKyAnOiAnICsgZXJyLm1lc3NhZ2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbGxiYWNrKCBmYWxzZSwgZXJyLnRvU3RyaW5nKCkgKTtcblx0XHRcdH1cblx0XHR9KTtcbn1cblxuLyoqXG4gKlx0QHBhcmFtIEFycmF5QnVmZmVyIGFycmF5QnVmXG4gKlx0QHJldHVybiBBcnJheVxuICovXG5jb25zdCBidWZmZXIyQXJyYXkgPSBhcnJheUJ1ZiA9PiBbIC4uLiAobmV3IFVpbnQ4QXJyYXkoIGFycmF5QnVmICkpIF07XG5cbmNvbnN0IHJlZ2lzdGVyID0gKCBvcHRzLCBjYWxsYmFjayApID0+IHtcblxuXHRjb25zdCB7IGFjdGlvbiwgdXNlcl9pZCwgcGF5bG9hZCwgX3dwbm9uY2UgfSA9IG9wdHM7XG5cblx0d2ViYXV0aG5SZWdpc3RlciggcGF5bG9hZCwgKHN1Y2Nlc3MsaW5mbykgPT4ge1xuXHRcdGlmICggc3VjY2VzcyApIHtcblx0XHRcdCQuYWpheCh7XG5cdFx0XHRcdHVybDogd3AuYWpheC5zZXR0aW5ncy51cmwsXG5cdFx0XHRcdG1ldGhvZDogJ3Bvc3QnLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0YWN0aW9uLFxuXHRcdFx0XHRcdHBheWxvYWQ6IGluZm8sXG5cdFx0XHRcdFx0dXNlcl9pZCxcblx0XHRcdFx0XHRfd3Bub25jZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOiBjYWxsYmFja1xuXHRcdFx0fSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2FsbGJhY2soIHsgc3VjY2VzczpmYWxzZSwgbWVzc2FnZTppbmZvIH0gKVxuXHRcdH1cblx0fSlcbn1cblxuXG5jb25zdCBsb2dpbiA9ICggb3B0cywgY2FsbGJhY2sgKSA9PiB7XG5cblx0Y29uc3QgeyBhY3Rpb24sIHBheWxvYWQsIF93cG5vbmNlIH0gPSBvcHRzO1xuXG5cdHdlYmF1dGhuQXV0aGVudGljYXRlKCBwYXlsb2FkLCAoIHN1Y2Nlc3MsIGluZm8gKSA9PiB7XG5cdFx0aWYgKCBzdWNjZXNzICkge1xuXHRcdFx0Y2FsbGJhY2soIHsgc3VjY2Vzczp0cnVlLCByZXN1bHQ6IGluZm8gfSApXG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbGxiYWNrKCB7IHN1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGluZm8gfSApXG5cdFx0fVxuXG5cdH0pXG59XG5cbmNvbnN0IHNlbmRSZXF1ZXN0ID0gKCBvcHRzLCBjYWxsYmFjayApID0+IHtcblxuXHQkLmFqYXgoe1xuXHRcdHVybDogd3AuYWpheC5zZXR0aW5ncy51cmwsXG5cdFx0bWV0aG9kOiAncG9zdCcsXG5cdFx0ZGF0YTogb3B0cyxcblx0XHRzdWNjZXNzOmNhbGxiYWNrXG5cdH0pXG59XG5cbmNvbnN0IGlzV2ViYXV0aG5TdXBwb3J0ZWQgPSAnY3JlZGVudGlhbHMnIGluIG5hdmlnYXRvclxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0cmVnaXN0ZXIsXG5cdGxvZ2luLFxuXHRzZW5kUmVxdWVzdCxcblx0aXNXZWJhdXRoblN1cHBvcnRlZFxufVxuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5J1xuaW1wb3J0IHsgbG9naW4sIGlzV2ViYXV0aG5TdXBwb3J0ZWQgfSBmcm9tICdkYXZpZGVhcmwtd2ViYXV0aG4nXG5cbi8qKlxuICpcdFNvbWUgUGFzc3dvcmQgTWFuYWdlcnMgKGxpa2UgbmV4dGNsb3VkIHBhc3N3b3Jkcykgc2VlbSB0byBhYm9ydCB0aGVcbiAqXHRrZXkgYnJvd3NlciBkaWFsb2cuXG4gKlx0V2UgaGF2ZSB0byByZXRyeSBhIGNvdXBsZSBvZiB0aW1lcyB0b1xuICovXG5jb25zdCBhdXRoID0gKCkgPT4ge1xuXHQkKCcud2ViYXV0aG4tcmV0cnknKS5yZW1vdmVDbGFzcygndmlzaWJsZScpXG5cdGxvZ2luKCB3aW5kb3cud2ViYXV0aG5MMTBuLCByZXNwb25zZSA9PiB7XG5cdFx0aWYgKCByZXNwb25zZS5zdWNjZXNzICkge1xuXHRcdFx0JCgnI3dlYmF1dGhuX3Jlc3BvbnNlJykudmFsKCByZXNwb25zZS5yZXN1bHQgKVxuXHRcdFx0JCggJyNsb2dpbmZvcm0nICkuc3VibWl0KClcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gc2hvdyByZXRyeS1idXR0b25cblx0XHRcdCQoJy53ZWJhdXRobi1yZXRyeScpLmFkZENsYXNzKCd2aXNpYmxlJylcblx0XHR9XG5cdH0gKTtcbn1cblxuaWYgKCAhIHdpbmRvdy53ZWJhdXRobkwxMG4gKSB7XG5cdGNvbnNvbGUuZXJyb3IoICd3ZWJhdXRoTDEwbiBpcyBub3QgZGVmaW5lZCcgKTtcbn07XG5cbmlmICggaXNXZWJhdXRoblN1cHBvcnRlZCApIHtcblx0JChkb2N1bWVudClcblx0XHQucmVhZHkoIGF1dGggKVxuXHRcdC5vbignY2xpY2snLCcud2ViYXV0aG4tcmV0cnktbGluaycsIGF1dGggKTtcbn0gZWxzZSB7XG5cdC8vIHNob3cgbWVzc2FnZVxuXHQkKCcud2ViYXV0aG4tdW5zdXBwb3J0ZWQnKS5hZGRDbGFzcygndmlzaWJsZScpXG59XG4iXX0=