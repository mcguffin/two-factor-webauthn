!function(){var n={};(function(e){"use strict";var t;(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule;n={login:function(n,e){n.action;var t,o,a,r,i=n.payload;n._wpnonce,o=function(n,t){e({success:n,result:t})},a=(t=i).challenge,(r=Object.assign({},t)).challenge=new Uint8Array(t.challenge),r.allowCredentials=r.allowCredentials.map(function(n){var e=Object.assign({},n);return e.id=new Uint8Array(n.id),e}),navigator.credentials.get({publicKey:r}).then(function(n){var e=[];new Uint8Array(n.rawId).forEach(function(n){e.push(n)});var t=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(n.response.clientDataJSON))),r=[];new Uint8Array(n.response.clientDataJSON).forEach(function(n){r.push(n)});var i=[];new Uint8Array(n.response.authenticatorData).forEach(function(n){i.push(n)});var l=[];new Uint8Array(n.response.signature).forEach(function(n){l.push(n)});var u={type:n.type,originalChallenge:a,rawId:e,response:{authenticatorData:i,clientData:t,clientDataJSONarray:r,signature:l}};o(!0,JSON.stringify(u))}).catch(function(n){"name"in n?"NotAllowedError"==n.name?o(!1,"not-allowed"):"AbortError"==n.name||"NS_ERROR_ABORT"==n.name?o(!1,"abort"):o(!1,n.toString()):o(!1,n.toString())})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),function(e){"use strict";var t,o=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};window.webauthnL10n||console.error("webauthL10n is not defined"),(0,o.default)(document).ready(function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,n.login)(window.webauthnL10n,function(n){n.success?((0,o.default)("#webauthn_response").val(n.result),(0,o.default)("#loginform").submit()):t<5&&"not-allowed"===n.result?(setTimeout(function(){return e(t+1)},750),console.warn("Failed to connect to hardware. Attempt",t,"of",5)):console.error("Authentication Failed",n.result,t)})}()})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsInNyYy9qcy9saWIvZGF2aWRlYXJsLXdlYmF1dGhuLmpzIiwic3JjL2pzL2xvZ2luL3R3by1mYWN0b3Itd2ViYXV0aG4vaW5kZXguanMiXSwibmFtZXMiOlsiXyRkYXZpZGVhcmxXZWJhdXRobl8xIiwib2JqIiwid2luZG93IiwialF1ZXJ5IiwiZ2xvYmFsIiwiX19lc01vZHVsZSIsImxvZ2luIiwib3B0cyIsImNhbGxiYWNrIiwiYWN0aW9uIiwicHViS2V5QXV0aCIsImNiIiwib3JpZ2luYWxDaGFsbGVuZ2UiLCJwayIsInBheWxvYWQiLCJfd3Bub25jZSIsInN1Y2Nlc3MiLCJpbmZvIiwicmVzdWx0IiwiY2hhbGxlbmdlIiwiT2JqZWN0IiwiYXNzaWduIiwiVWludDhBcnJheSIsImFsbG93Q3JlZGVudGlhbHMiLCJtYXAiLCJrIiwicmV0IiwiaWQiLCJuYXZpZ2F0b3IiLCJjcmVkZW50aWFscyIsImdldCIsInB1YmxpY0tleSIsInRoZW4iLCJhQXNzZXJ0aW9uIiwiaWRhIiwicmF3SWQiLCJmb3JFYWNoIiwidiIsInB1c2giLCJjZCIsIkpTT04iLCJwYXJzZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwicmVzcG9uc2UiLCJjbGllbnREYXRhSlNPTiIsImNkYSIsImFkIiwiYXV0aGVudGljYXRvckRhdGEiLCJzaWciLCJzaWduYXR1cmUiLCJ0eXBlIiwiY2xpZW50RGF0YSIsImNsaWVudERhdGFKU09OYXJyYXkiLCJzdHJpbmdpZnkiLCJjYXRjaCIsImFFcnIiLCJuYW1lIiwidG9TdHJpbmciLCJfanF1ZXJ5IiwiZGVmYXVsdCIsIndlYmF1dGhuTDEwbiIsImNvbnNvbGUiLCJlcnJvciIsImRvY3VtZW50IiwicmVhZHkiLCJhdXRoIiwiYXR0ZW1wdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInZhbCIsInN1Ym1pdCIsInNldFRpbWVvdXQiLCJ3YXJuIl0sIm1hcHBp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QWRoRCxJQWdCakJMLFFBQVFDLE1BQU8sd0JBQXlCbkIsRUFBUzNCLE9BQVFrRCxLQVQvQyxzSEZWYiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5J1xuXG4vKipcbiAqXHRTdG9sZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRlYXJsL3dlYmF1dGhuXG4gKi9cbmZ1bmN0aW9uIHdlYmF1dGhuQXV0aGVudGljYXRlKCBwdWJLZXlBdXRoLCBjYiApIHtcblxuXHRjb25zdCBvcmlnaW5hbENoYWxsZW5nZSA9IHB1YktleUF1dGguY2hhbGxlbmdlO1xuXHRjb25zdCBwayA9IE9iamVjdC5hc3NpZ24oIHt9LCBwdWJLZXlBdXRoIClcblxuXHRway5jaGFsbGVuZ2UgPSBuZXcgVWludDhBcnJheSggcHViS2V5QXV0aC5jaGFsbGVuZ2UgKVxuXHRway5hbGxvd0NyZWRlbnRpYWxzID0gcGsuYWxsb3dDcmVkZW50aWFscy5tYXAoIGsgPT4ge1xuXHRcdGxldCByZXQgPSBPYmplY3QuYXNzaWduKCB7fSwgayApXG5cdFx0cmV0LmlkID0gbmV3IFVpbnQ4QXJyYXkoay5pZCk7XG5cdFx0cmV0dXJuIHJldFxuXHR9IClcblxuXHQvKiBhc2sgdGhlIGJyb3dzZXIgdG8gcHJvbXB0IHRoZSB1c2VyICovXG5cdG5hdmlnYXRvci5jcmVkZW50aWFscy5nZXQoIHsgcHVibGljS2V5OiBwayB9IClcblx0XHQudGhlbiggYUFzc2VydGlvbiA9PiB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhcIkNyZWRlbnRpYWxzLkdldCByZXNwb25zZTogXCIsIGFBc3NlcnRpb24pO1xuXHRcdFx0dmFyIGlkYSA9IFtdO1xuXHRcdFx0KG5ldyBVaW50OEFycmF5KGFBc3NlcnRpb24ucmF3SWQpKS5mb3JFYWNoKGZ1bmN0aW9uKHYpeyBpZGEucHVzaCh2KTsgfSk7XG5cdFx0XHR2YXIgY2QgPSBKU09OLnBhcnNlKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgIG5ldyBVaW50OEFycmF5KGFBc3NlcnRpb24ucmVzcG9uc2UuY2xpZW50RGF0YUpTT04pKSk7XG5cdFx0XHR2YXIgY2RhID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYUFzc2VydGlvbi5yZXNwb25zZS5jbGllbnREYXRhSlNPTikpLmZvckVhY2goZnVuY3Rpb24odil7IGNkYS5wdXNoKHYpOyB9KTtcblx0XHRcdHZhciBhZCA9IFtdO1xuXHRcdFx0KG5ldyBVaW50OEFycmF5KGFBc3NlcnRpb24ucmVzcG9uc2UuYXV0aGVudGljYXRvckRhdGEpKS5mb3JFYWNoKGZ1bmN0aW9uKHYpeyBhZC5wdXNoKHYpOyB9KTtcblx0XHRcdHZhciBzaWcgPSBbXTtcblx0XHRcdChuZXcgVWludDhBcnJheShhQXNzZXJ0aW9uLnJlc3BvbnNlLnNpZ25hdHVyZSkpLmZvckVhY2goZnVuY3Rpb24odil7IHNpZy5wdXNoKHYpOyB9KTtcblx0XHRcdHZhciBpbmZvID0ge1xuXHRcdFx0XHR0eXBlOiBhQXNzZXJ0aW9uLnR5cGUsXG5cdFx0XHRcdG9yaWdpbmFsQ2hhbGxlbmdlOiBvcmlnaW5hbENoYWxsZW5nZSxcblx0XHRcdFx0cmF3SWQ6IGlkYSxcblx0XHRcdFx0cmVzcG9uc2U6IHtcblx0XHRcdFx0XHRhdXRoZW50aWNhdG9yRGF0YTogYWQsXG5cdFx0XHRcdFx0Y2xpZW50RGF0YTogY2QsXG5cdFx0XHRcdFx0Y2xpZW50RGF0YUpTT05hcnJheTogY2RhLFxuXHRcdFx0XHRcdHNpZ25hdHVyZTogc2lnXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRjYiggdHJ1ZSwgSlNPTi5zdHJpbmdpZnkoIGluZm8gKSApO1xuXHRcdH0pXG5cdFx0LmNhdGNoKCBhRXJyID0+IHtcblx0XHRcdGlmICggXCJuYW1lXCIgaW4gYUVyciApIHtcblx0XHRcdFx0Ly8gY2hhbmdlOiBkaXN0aWd1aXNoIGJldHdlZW4gZXJyb3JzXG5cdFx0XHRcdGlmICggYUVyci5uYW1lID09IFwiTm90QWxsb3dlZEVycm9yXCIgKSB7XG5cdFx0XHRcdFx0Y2IoIGZhbHNlLCAnbm90LWFsbG93ZWQnICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGFFcnIubmFtZSA9PSBcIkFib3J0RXJyb3JcIiB8fCBhRXJyLm5hbWUgPT0gXCJOU19FUlJPUl9BQk9SVFwiICkge1xuXHRcdFx0XHRcdGNiKCBmYWxzZSwgJ2Fib3J0JyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNiKCBmYWxzZSwgYUVyci50b1N0cmluZygpICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNiKGZhbHNlLCBhRXJyLnRvU3RyaW5nKCkpO1xuXHRcdFx0fVxuXHRcdH0pO1xufVxuXG4vKipcbiAqXHRTdG9sZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRlYXJsL3dlYmF1dGhuXG4gKi9cbmZ1bmN0aW9uIHdlYmF1dGhuUmVnaXN0ZXIoa2V5LCBjYWxsYmFjayl7XG5cblx0bGV0IHB1YmxpY0tleSA9IE9iamVjdC5hc3NpZ24oIHt9LCBrZXkucHVibGljS2V5ICk7XG5cblx0cHVibGljS2V5LmF0dGVzdGF0aW9uID0gdW5kZWZpbmVkO1xuXHRwdWJsaWNLZXkuY2hhbGxlbmdlID0gbmV3IFVpbnQ4QXJyYXkoIHB1YmxpY0tleS5jaGFsbGVuZ2UgKTsgLy8gY29udmVydCB0eXBlIGZvciB1c2UgYnkga2V5XG5cdHB1YmxpY0tleS51c2VyLmlkID0gbmV3IFVpbnQ4QXJyYXkoIHB1YmxpY0tleS51c2VyLmlkICk7XG5cblx0Ly8gY29uc29sZS5sb2coa2V5KTtcblx0bmF2aWdhdG9yLmNyZWRlbnRpYWxzLmNyZWF0ZSggeyBwdWJsaWNLZXkgfSApXG5cdFx0LnRoZW4oZnVuY3Rpb24gKGFOZXdDcmVkZW50aWFsSW5mbykge1xuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJDcmVkZW50aWFscy5DcmVhdGUgcmVzcG9uc2U6IFwiLCBhTmV3Q3JlZGVudGlhbEluZm8pO1xuXHRcdFx0dmFyIGNkID0gSlNPTi5wYXJzZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGFOZXdDcmVkZW50aWFsSW5mby5yZXNwb25zZS5jbGllbnREYXRhSlNPTikpKTtcblx0XHRcdGlmICgga2V5LmI2NGNoYWxsZW5nZSAhPT0gY2QuY2hhbGxlbmdlICkge1xuXHRcdFx0XHRjYWxsYmFjayhmYWxzZSwgJ2tleSByZXR1cm5lZCBzb21ldGhpbmcgdW5leHBlY3RlZCAoMSknKTtcblx0XHRcdH1cblx0XHRcdGlmICgnaHR0cHM6Ly8nK2tleS5wdWJsaWNLZXkucnAubmFtZSAhPSBjZC5vcmlnaW4pIHtcblx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKGZhbHNlLCAna2V5IHJldHVybmVkIHNvbWV0aGluZyB1bmV4cGVjdGVkICgyKScpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCEgKCd0eXBlJyBpbiBjZCkpIHtcblx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKGZhbHNlLCAna2V5IHJldHVybmVkIHNvbWV0aGluZyB1bmV4cGVjdGVkICgzKScpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNkLnR5cGUgIT0gJ3dlYmF1dGhuLmNyZWF0ZScpIHtcblx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKGZhbHNlLCAna2V5IHJldHVybmVkIHNvbWV0aGluZyB1bmV4cGVjdGVkICg0KScpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgYW8gPSBbXTtcblx0XHRcdChuZXcgVWludDhBcnJheShhTmV3Q3JlZGVudGlhbEluZm8ucmVzcG9uc2UuYXR0ZXN0YXRpb25PYmplY3QpKS5mb3JFYWNoKGZ1bmN0aW9uKHYpe1xuXHRcdFx0XHRhby5wdXNoKHYpO1xuXHRcdFx0fSk7XG5cdFx0XHR2YXIgcmF3SWQgPSBbXTtcblx0XHRcdChuZXcgVWludDhBcnJheShhTmV3Q3JlZGVudGlhbEluZm8ucmF3SWQpKS5mb3JFYWNoKGZ1bmN0aW9uKHYpe1xuXHRcdFx0XHRyYXdJZC5wdXNoKHYpO1xuXHRcdFx0fSk7XG5cdFx0XHR2YXIgaW5mbyA9IHtcblx0XHRcdFx0cmF3SWQ6IHJhd0lkLFxuXHRcdFx0XHRpZDogYU5ld0NyZWRlbnRpYWxJbmZvLmlkLFxuXHRcdFx0XHR0eXBlOiBhTmV3Q3JlZGVudGlhbEluZm8udHlwZSxcblx0XHRcdFx0cmVzcG9uc2U6IHtcblx0XHRcdFx0XHRhdHRlc3RhdGlvbk9iamVjdDogYW8sXG5cdFx0XHRcdFx0Y2xpZW50RGF0YUpTT046XG5cdFx0XHRcdFx0ICBKU09OLnBhcnNlKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYU5ld0NyZWRlbnRpYWxJbmZvLnJlc3BvbnNlLmNsaWVudERhdGFKU09OKSkpXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRjYWxsYmFjayh0cnVlLCBKU09OLnN0cmluZ2lmeShpbmZvKSk7XG5cdFx0fSlcblx0XHQuY2F0Y2goZnVuY3Rpb24gKGFFcnIpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0KFwibmFtZVwiIGluIGFFcnIpICYmIChhRXJyLm5hbWUgPT0gXCJBYm9ydEVycm9yXCIgfHwgYUVyci5uYW1lID09IFwiTlNfRVJST1JfQUJPUlRcIilcblx0XHRcdFx0fHwgYUVyci5uYW1lID09ICdOb3RBbGxvd2VkRXJyb3InXG5cdFx0XHQpIHtcblx0XHRcdFx0Y2FsbGJhY2soZmFsc2UsICdhYm9ydCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2FsbGJhY2soZmFsc2UsIGFFcnIudG9TdHJpbmcoKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG59XG5cbi8qKlxuICpcdEBwYXJhbSBBcnJheUJ1ZmZlciBhcnJheUJ1ZlxuICpcdEByZXR1cm4gQXJyYXlcbiAqL1xuY29uc3QgYnVmZmVyMkFycmF5ID0gYXJyYXlCdWYgPT4gWyAuLi4gKG5ldyBVaW50OEFycmF5KCBhcnJheUJ1ZiApKSBdO1xuXG5jb25zdCByZWdpc3RlciA9ICggb3B0cywgY2FsbGJhY2sgKSA9PiB7XG5cblx0Y29uc3QgeyBhY3Rpb24sIHBheWxvYWQsIF93cG5vbmNlIH0gPSBvcHRzO1xuXG5cdHdlYmF1dGhuUmVnaXN0ZXIoIHBheWxvYWQsIChzdWNjZXNzLGluZm8pID0+IHtcblx0XHQkLmFqYXgoe1xuXHRcdFx0dXJsOiB3cC5hamF4LnNldHRpbmdzLnVybCxcblx0XHRcdG1ldGhvZDogJ3Bvc3QnLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRhY3Rpb246IGFjdGlvbixcblx0XHRcdFx0cGF5bG9hZDogaW5mbyxcblx0XHRcdFx0X3dwbm9uY2U6IF93cG5vbmNlXG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9KVxuXHR9KVxufVxuXG5cbmNvbnN0IGxvZ2luID0gKCBvcHRzLCBjYWxsYmFjayApID0+IHtcblxuXHRjb25zdCB7IGFjdGlvbiwgcGF5bG9hZCwgX3dwbm9uY2UgfSA9IG9wdHM7XG5cblx0d2ViYXV0aG5BdXRoZW50aWNhdGUoIHBheWxvYWQsICggc3VjY2VzcywgaW5mbyApID0+IHtcblx0XHRjYWxsYmFjayggeyBzdWNjZXNzLCByZXN1bHQ6IGluZm8gfSApXG5cdH0pXG59XG5cbmNvbnN0IHNlbmRSZXF1ZXN0ID0gKCBvcHRzLCBjYWxsYmFjayApID0+IHtcblxuXHRjb25zdCB7IGFjdGlvbiwgcGF5bG9hZCwgX3dwbm9uY2UgfSA9IG9wdHM7XG5cblx0JC5hamF4KHtcblx0XHR1cmw6IHdwLmFqYXguc2V0dGluZ3MudXJsLFxuXHRcdG1ldGhvZDogJ3Bvc3QnLFxuXHRcdGRhdGE6IHtcblx0XHRcdGFjdGlvbjogYWN0aW9uLFxuXHRcdFx0cGF5bG9hZDogcGF5bG9hZCxcblx0XHRcdF93cG5vbmNlOiBfd3Bub25jZVxuXHRcdH0sXG5cdFx0c3VjY2VzczpjYWxsYmFja1xuXHR9KVxufVxuXG5cbmNvbnN0IGVkaXRLZXkgPSAoIG9wdHMsIGNhbGxiYWNrICkgPT4ge1xuXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRyZWdpc3RlciwgbG9naW4sIHNlbmRSZXF1ZXN0XG59XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gJ2RhdmlkZWFybC13ZWJhdXRobidcblxuY29uc3QgbWF4QXR0ZW1wdHMgPSA1XG5cbi8qKlxuICpcdFNvbWUgUGFzc3dvcmQgTWFuYWdlcnMgKGxpa2UgbmV4dGNsb3VkIHBhc3N3b3Jkcykgc2VlbSB0byBhYm9ydCB0aGVcbiAqXHRrZXkgYnJvd3NlciBkaWFsb2cuXG4gKlx0V2UgaGF2ZSB0byByZXRyeSBhIGNvdXBsZSBvZiB0aW1lcyB0b1xuICovXG5jb25zdCBhdXRoID0gKCBhdHRlbXB0ID0gMSApID0+IHtcblx0bG9naW4oIHdpbmRvdy53ZWJhdXRobkwxMG4sIHJlc3BvbnNlID0+IHtcblx0XHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG5cdFx0XHQkKCcjd2ViYXV0aG5fcmVzcG9uc2UnKS52YWwoIHJlc3BvbnNlLnJlc3VsdCApXG5cdFx0XHQkKCAnI2xvZ2luZm9ybScgKS5zdWJtaXQoKVxuXHRcdH0gZWxzZSBpZiAoIGF0dGVtcHQgPCBtYXhBdHRlbXB0cyAmJiAnbm90LWFsbG93ZWQnID09PSByZXNwb25zZS5yZXN1bHQgICkge1xuXHRcdFx0c2V0VGltZW91dCggKCkgPT4gYXV0aCggYXR0ZW1wdCArIDEgKSwgNzUwIClcblx0XHRcdGNvbnNvbGUud2FybiggJ0ZhaWxlZCB0byBjb25uZWN0IHRvIGhhcmR3YXJlLiBBdHRlbXB0JywgYXR0ZW1wdCwgJ29mJywgbWF4QXR0ZW1wdHMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvciggJ0F1dGhlbnRpY2F0aW9uIEZhaWxlZCcsIHJlc3BvbnNlLnJlc3VsdCwgYXR0ZW1wdCApO1xuXHRcdH1cblx0fSApO1xufVxuXG5pZiAoICEgd2luZG93LndlYmF1dGhuTDEwbiApIHtcblx0Y29uc29sZS5lcnJvciggJ3dlYmF1dGhMMTBuIGlzIG5vdCBkZWZpbmVkJyApO1xufTtcblxuJChkb2N1bWVudCkucmVhZHkoICgpID0+IGF1dGgoKSApO1xuIl19