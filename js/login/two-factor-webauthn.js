!function(){var n={};(function(e){"use strict";var t;(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule;function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var a="credentials"in navigator;n={login:function(n,e){n.action;var t,a,r,i,l=n.payload;n._wpnonce,a=function(n,t){e({success:n,result:t})},r=(t=l).challenge,(i=Object.assign({},t)).challenge=new Uint8Array(t.challenge),i.allowCredentials=i.allowCredentials.map(function(n){var e=Object.assign({},n);return e.id=new Uint8Array(n.id),e}),navigator.credentials.get({publicKey:i}).then(function(n){var e=[];new Uint8Array(n.rawId).forEach(function(n){e.push(n)});var t=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(n.response.clientDataJSON))),o=[];new Uint8Array(n.response.clientDataJSON).forEach(function(n){o.push(n)});var i=[];new Uint8Array(n.response.authenticatorData).forEach(function(n){i.push(n)});var l=[];new Uint8Array(n.response.signature).forEach(function(n){l.push(n)});var u={type:n.type,originalChallenge:r,rawId:e,response:{authenticatorData:i,clientData:t,clientDataJSONarray:o,signature:l}};a(!0,JSON.stringify(u))}).catch(function(n){console.log(n),"name"in n?(console.log(o(n)),console.log(n.name),console.log(n.message),"NotAllowedError"==n.name?a(!1,"not-allowed"):"AbortError"==n.name||"NS_ERROR_ABORT"==n.name?a(!1,"abort"):a(!1,n.toString())):a(!1,n.toString())})},isWebauthnSupported:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),function(e){"use strict";var t,o=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},a=function(){(0,o.default)(".webauthn-retry").removeClass("visible"),(0,n.login)(window.webauthnL10n,function(n){n.success?((0,o.default)("#webauthn_response").val(n.result),(0,o.default)("#loginform").submit()):(0,o.default)(".webauthn-retry").addClass("visible")})};window.webauthnL10n||console.error("webauthL10n is not defined"),n.isWebauthnSupported?(0,o.default)(document).ready(function(){return a()}).on("click",".webauthn-retry-link",function(){return a()}):(0,o.default)(".webauthn-unsupported").addClass("visible")}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsInNyYy9qcy9saWIvZGF2aWRlYXJsLXdlYmF1dGhuLmpzIiwic3JjL2pzL2xvZ2luL3R3by1mYWN0b3Itd2ViYXV0aG4vaW5kZXguanMiXSwibmFtZXMiOlsiXyRkYXZpZGVhcmxXZWJhdXRobl8xIiwib2JqIiwid2luZG93IiwialF1ZXJ5IiwiZ2xvYmFsIiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiaXNXZWJhdXRoblN1cHBvcnRlZCIsIm5hdmlnYXRvciIsImxvZ2luIiwib3B0cyIsImNhbGxiYWNrIiwiYWN0aW9uIiwicHViS2V5QXV0aCIsImNiIiwib3JpZ2luYWxDaGFsbGVuZ2UiLCJwayIsInBheWxvYWQiLCJfd3Bub25jZSIsInN1Y2Nlc3MiLCJpbmZvIiwicmVzdWx0IiwiY2hhbGxlbmdlIiwiT2JqZWN0IiwiYXNzaWduIiwiVWludDhBcnJheSIsImFsbG93Q3JlZGVudGlhbHMiLCJtYXAiLCJrIiwicmV0IiwiaWQiLCJjcmVkZW50aWFscyIsImdldCIsInB1YmxpY0tleSIsInRoZW4iLCJhQXNzZXJ0aW9uIiwiaWRhIiwicmF3SWQiLCJmb3JFYWNoIiwidiIsInB1c2giLCJjZCIsIkpTT04iLCJwYXJzZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwicmVzcG9uc2UiLCJjbGllbnREYXRhSlNPTiIsImNkYSIsImFkIiwiYXV0aGVudGljYXRvckRhdGEiLCJzaWciLCJzaWduYXR1cmUiLCJ0eXBlIiwiY2xpZW50RGF0YSIsImNsaWVudERhdGFKU09OYXJyYXkiLCJzdHJpbmdpZnkiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwibWVzc2FnZSIsInRvU3RyaW5nIiwiX2pxdWVyeSIsImRlZmF1bHQiLCJhdXRoIiwicmVtb3ZlQ2xhc3MiLCJ3ZWJhdXRo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RSxFQUFPLFlBQUEsRUFDWkYsRUFBQUMsU0FBRSxtQkFBbUJFLFlBQVksWUFBQSxFQUNqQ3hFLEVBQUFhLE9BQU9YLE9BQU91RSxhQUFjLFNBQUF0QixHQUN0QkEsRUFBUzVCLFVBQUEsRUFDYjhDLEVBQUFDLFNBQUUsc0JBQXNCSSxJQUFLdkIsRUFBUzFCLFNBQUEsRUFDdEM0QyxFQUFBQyxTQUFHLGNBQWVLLFdBQUEsRUFHbEJOLEVBQUFDLFNBQUUsbUJBQW1CTSxTQUFTLGNBSzFCMUUsT0FBT3VFLGNBQ2JULFFBQVFhLE1BQU8sOEJBR1g3RSxFQUFBVyxxQkFBQSxFQUNKMEQsRUFBQUMsU0FBRVEsVUFDQUMsTUFBTyxXQUFBLE9BQU1SLE1BQ2JTLEdBQUcsUUFBUSx1QkFBd0IsV0FBQSxPQUFNVCxPQUFBLEVBRzNDRixFQUFBQyxTQUFFLHlCQUF5Qk0sU0FBUyw0SEYvQnJDIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5cbi8qKlxuICpcdFN0b2xlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGVhcmwvd2ViYXV0aG5cbiAqL1xuZnVuY3Rpb24gd2ViYXV0aG5BdXRoZW50aWNhdGUoIHB1YktleUF1dGgsIGNiICkge1xuXG5cdGNvbnN0IG9yaWdpbmFsQ2hhbGxlbmdlID0gcHViS2V5QXV0aC5jaGFsbGVuZ2U7XG5cdGNvbnN0IHBrID0gT2JqZWN0LmFzc2lnbigge30sIHB1YktleUF1dGggKVxuXG5cdHBrLmNoYWxsZW5nZSA9IG5ldyBVaW50OEFycmF5KCBwdWJLZXlBdXRoLmNoYWxsZW5nZSApXG5cdHBrLmFsbG93Q3JlZGVudGlhbHMgPSBway5hbGxvd0NyZWRlbnRpYWxzLm1hcCggayA9PiB7XG5cdFx0bGV0IHJldCA9IE9iamVjdC5hc3NpZ24oIHt9LCBrIClcblx0XHRyZXQuaWQgPSBuZXcgVWludDhBcnJheShrLmlkKTtcblx0XHRyZXR1cm4gcmV0XG5cdH0gKVxuXG5cdC8qIGFzayB0aGUgYnJvd3NlciB0byBwcm9tcHQgdGhlIHVzZXIgKi9cblx0bmF2aWdhdG9yLmNyZWRlbnRpYWxzLmdldCggeyBwdWJsaWNLZXk6IHBrIH0gKVxuXHRcdC50aGVuKCBhQXNzZXJ0aW9uID0+IHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiQ3JlZGVudGlhbHMuR2V0IHJlc3BvbnNlOiBcIiwgYUFzc2VydGlvbik7XG5cdFx0XHR2YXIgaWRhID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYUFzc2VydGlvbi5yYXdJZCkpLmZvckVhY2goZnVuY3Rpb24odil7IGlkYS5wdXNoKHYpOyB9KTtcblx0XHRcdHZhciBjZCA9IEpTT04ucGFyc2UoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgbmV3IFVpbnQ4QXJyYXkoYUFzc2VydGlvbi5yZXNwb25zZS5jbGllbnREYXRhSlNPTikpKTtcblx0XHRcdHZhciBjZGEgPSBbXTtcblx0XHRcdChuZXcgVWludDhBcnJheShhQXNzZXJ0aW9uLnJlc3BvbnNlLmNsaWVudERhdGFKU09OKSkuZm9yRWFjaChmdW5jdGlvbih2KXsgY2RhLnB1c2godik7IH0pO1xuXHRcdFx0dmFyIGFkID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYUFzc2VydGlvbi5yZXNwb25zZS5hdXRoZW50aWNhdG9yRGF0YSkpLmZvckVhY2goZnVuY3Rpb24odil7IGFkLnB1c2godik7IH0pO1xuXHRcdFx0dmFyIHNpZyA9IFtdO1xuXHRcdFx0KG5ldyBVaW50OEFycmF5KGFBc3NlcnRpb24ucmVzcG9uc2Uuc2lnbmF0dXJlKSkuZm9yRWFjaChmdW5jdGlvbih2KXsgc2lnLnB1c2godik7IH0pO1xuXHRcdFx0dmFyIGluZm8gPSB7XG5cdFx0XHRcdHR5cGU6IGFBc3NlcnRpb24udHlwZSxcblx0XHRcdFx0b3JpZ2luYWxDaGFsbGVuZ2U6IG9yaWdpbmFsQ2hhbGxlbmdlLFxuXHRcdFx0XHRyYXdJZDogaWRhLFxuXHRcdFx0XHRyZXNwb25zZToge1xuXHRcdFx0XHRcdGF1dGhlbnRpY2F0b3JEYXRhOiBhZCxcblx0XHRcdFx0XHRjbGllbnREYXRhOiBjZCxcblx0XHRcdFx0XHRjbGllbnREYXRhSlNPTmFycmF5OiBjZGEsXG5cdFx0XHRcdFx0c2lnbmF0dXJlOiBzaWdcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGNiKCB0cnVlLCBKU09OLnN0cmluZ2lmeSggaW5mbyApICk7XG5cdFx0fSlcblx0XHQuY2F0Y2goIGVyciA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnIpXG5cdFx0XHQvKlxuXHRcdFx0RkYgbWFjOlxuXHRcdFx0SW52YWxpZFN0YXRlRXJyb3I6IGtleSBub3QgZm91bmRcblx0XHRcdEFib3J0RXJyb3I6IHVzZXIgYWJvcnRlZCBvciBkZW5pZWRcblx0XHRcdE5vdEFsbG93ZWRFcnJvcjogP1xuXHRcdFx0XHRUaGUgcmVxdWVzdCBpcyBub3QgYWxsb3dlZCBieSB0aGUgdXNlciBhZ2VudCBvciB0aGUgcGxhdGZvcm0gaW4gdGhlIGN1cnJlbnQgY29udGV4dCwgcG9zc2libHkgYmVjYXVzZSB0aGUgdXNlciBkZW5pZWQgcGVybWlzc2lvbi5cblxuXHRcdFx0Q2hyb21lIG1hYzpcblx0XHRcdE5vdEFsbG93ZWRFcnJvcjogdXNlciBhYm9ydGVkIG9yIGRlbmllZFxuXG5cdFx0XHRTYWZhcmkgbWFjOlxuXHRcdFx0Tm90QWxsb3dlZEVycm9yOiB1c2VyIGFib3J0ZWQgb3IgZGVuaWVkXG5cblx0XHRcdEVkZ2Ugd2luMTA6XG5cdFx0XHRVbmtub3duRXJyb3I6IHdyb25nIGtleS4uLj9cblx0XHRcdE5vdEFsbG93ZWRFcnJvcjogdXNlciBhYm9ydGVkIG9yIGRlbmllZFxuXG5cdFx0XHRGRiB3aW46XG5cdFx0XHROb3RBbGxvd2VkRXJyb3I6IHVzZXIgYWJvcnRlZCBvciBkZW5pZWRcblx0XHRcdFx0RE9NRXhjZXB0aW9uOiBcIlRoZSByZXF1ZXN0IGlzIG5vdCBhbGxvd2VkIGJ5IHRoZSB1c2VyIGFnZW50IG9yIHRoZSBwbGF0Zm9ybSBpbiB0aGUgY3VycmVudCBjb250ZXh0LCBwb3NzaWJseSBiZWNhdXNlIHRoZSB1c2VyIGRlbmllZCBwZXJtaXNzaW9uLlwiXG5cblx0XHRcdCovXG5cdFx0XHRpZiAoIFwibmFtZVwiIGluIGVyciApIHtcblx0XHRcdFx0Y29uc29sZS5sb2codHlwZW9mIGVycilcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyLm5hbWUpXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKVxuXHRcdFx0XHQvLyBjaGFuZ2U6IGRpc3RpZ3Vpc2ggYmV0d2VlbiBlcnJvcnNcblx0XHRcdFx0aWYgKCBlcnIubmFtZSA9PSBcIk5vdEFsbG93ZWRFcnJvclwiICkge1xuXHRcdFx0XHRcdGNiKCBmYWxzZSwgJ25vdC1hbGxvd2VkJyApO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBlcnIubmFtZSA9PSBcIkFib3J0RXJyb3JcIiB8fCBlcnIubmFtZSA9PSBcIk5TX0VSUk9SX0FCT1JUXCIgKSB7XG5cdFx0XHRcdFx0Y2IoIGZhbHNlLCAnYWJvcnQnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2IoIGZhbHNlLCBlcnIudG9TdHJpbmcoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYiggZmFsc2UsIGVyci50b1N0cmluZygpICk7XG5cdFx0XHR9XG5cdFx0fSk7XG59XG5cbi8qKlxuICpcdFN0b2xlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGVhcmwvd2ViYXV0aG5cbiAqL1xuZnVuY3Rpb24gd2ViYXV0aG5SZWdpc3Rlcigga2V5LCBjYWxsYmFjayApe1xuXG5cdGxldCBwdWJsaWNLZXkgPSBPYmplY3QuYXNzaWduKCB7fSwga2V5LnB1YmxpY0tleSApO1xuXG5cdHB1YmxpY0tleS5hdHRlc3RhdGlvbiA9IHVuZGVmaW5lZDtcblx0cHVibGljS2V5LmNoYWxsZW5nZSA9IG5ldyBVaW50OEFycmF5KCBwdWJsaWNLZXkuY2hhbGxlbmdlICk7IC8vIGNvbnZlcnQgdHlwZSBmb3IgdXNlIGJ5IGtleVxuXHRwdWJsaWNLZXkudXNlci5pZCA9IG5ldyBVaW50OEFycmF5KCBwdWJsaWNLZXkudXNlci5pZCApO1xuXG5cdC8vIGNvbnNvbGUubG9nKGtleSk7XG5cdG5hdmlnYXRvci5jcmVkZW50aWFscy5jcmVhdGUoIHsgcHVibGljS2V5IH0gKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChhTmV3Q3JlZGVudGlhbEluZm8pIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiQ3JlZGVudGlhbHMuQ3JlYXRlIHJlc3BvbnNlOiBcIiwgYU5ld0NyZWRlbnRpYWxJbmZvKTtcblx0XHRcdHZhciBjZCA9IEpTT04ucGFyc2UoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShhTmV3Q3JlZGVudGlhbEluZm8ucmVzcG9uc2UuY2xpZW50RGF0YUpTT04pKSk7XG5cdFx0XHRpZiAoIGtleS5iNjRjaGFsbGVuZ2UgIT09IGNkLmNoYWxsZW5nZSApIHtcblx0XHRcdFx0Y2FsbGJhY2soZmFsc2UsICdrZXkgcmV0dXJuZWQgc29tZXRoaW5nIHVuZXhwZWN0ZWQgKDEpJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoJ2h0dHBzOi8vJytrZXkucHVibGljS2V5LnJwLm5hbWUgIT0gY2Qub3JpZ2luKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjayhmYWxzZSwgJ2tleSByZXR1cm5lZCBzb21ldGhpbmcgdW5leHBlY3RlZCAoMiknKTtcblx0XHRcdH1cblx0XHRcdGlmICghICgndHlwZScgaW4gY2QpKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjayhmYWxzZSwgJ2tleSByZXR1cm5lZCBzb21ldGhpbmcgdW5leHBlY3RlZCAoMyknKTtcblx0XHRcdH1cblx0XHRcdGlmIChjZC50eXBlICE9ICd3ZWJhdXRobi5jcmVhdGUnKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjayhmYWxzZSwgJ2tleSByZXR1cm5lZCBzb21ldGhpbmcgdW5leHBlY3RlZCAoNCknKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGFvID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYU5ld0NyZWRlbnRpYWxJbmZvLnJlc3BvbnNlLmF0dGVzdGF0aW9uT2JqZWN0KSkuZm9yRWFjaChmdW5jdGlvbih2KXtcblx0XHRcdFx0YW8ucHVzaCh2KTtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIHJhd0lkID0gW107XG5cdFx0XHQobmV3IFVpbnQ4QXJyYXkoYU5ld0NyZWRlbnRpYWxJbmZvLnJhd0lkKSkuZm9yRWFjaChmdW5jdGlvbih2KXtcblx0XHRcdFx0cmF3SWQucHVzaCh2KTtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIGluZm8gPSB7XG5cdFx0XHRcdHJhd0lkOiByYXdJZCxcblx0XHRcdFx0aWQ6IGFOZXdDcmVkZW50aWFsSW5mby5pZCxcblx0XHRcdFx0dHlwZTogYU5ld0NyZWRlbnRpYWxJbmZvLnR5cGUsXG5cdFx0XHRcdHJlc3BvbnNlOiB7XG5cdFx0XHRcdFx0YXR0ZXN0YXRpb25PYmplY3Q6IGFvLFxuXHRcdFx0XHRcdGNsaWVudERhdGFKU09OOlxuXHRcdFx0XHRcdCAgSlNPTi5wYXJzZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGFOZXdDcmVkZW50aWFsSW5mby5yZXNwb25zZS5jbGllbnREYXRhSlNPTikpKVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0Y2FsbGJhY2sodHJ1ZSwgSlNPTi5zdHJpbmdpZnkoaW5mbykpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKCBlcnIgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coZXJyKVxuXG5cdFx0XHRpZiAoIFwibmFtZVwiIGluIGVyciApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyLm5hbWUpXG5cdFx0XHRcdGlmIChlcnIubmFtZSA9PSBcIkFib3J0RXJyb3JcIiB8fCBlcnIubmFtZSA9PSBcIk5TX0VSUk9SX0FCT1JUXCIpIHtcblx0XHRcdFx0XHRjYWxsYmFjayggZmFsc2UsICdhYm9ydCcgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjYWxsYmFjayggZmFsc2UsIGVyci5uYW1lICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbGxiYWNrKCBmYWxzZSwgZXJyLnRvU3RyaW5nKCkgKTtcblx0XHRcdH1cblx0XHR9KTtcbn1cblxuLyoqXG4gKlx0QHBhcmFtIEFycmF5QnVmZmVyIGFycmF5QnVmXG4gKlx0QHJldHVybiBBcnJheVxuICovXG5jb25zdCBidWZmZXIyQXJyYXkgPSBhcnJheUJ1ZiA9PiBbIC4uLiAobmV3IFVpbnQ4QXJyYXkoIGFycmF5QnVmICkpIF07XG5cbmNvbnN0IHJlZ2lzdGVyID0gKCBvcHRzLCBjYWxsYmFjayApID0+IHtcblxuXHRjb25zdCB7IGFjdGlvbiwgcGF5bG9hZCwgX3dwbm9uY2UgfSA9IG9wdHM7XG5cblx0d2ViYXV0aG5SZWdpc3RlciggcGF5bG9hZCwgKHN1Y2Nlc3MsaW5mbykgPT4ge1xuXHRcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdCQuYWpheCh7XG5cdFx0XHRcdHVybDogd3AuYWpheC5zZXR0aW5ncy51cmwsXG5cdFx0XHRcdG1ldGhvZDogJ3Bvc3QnLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0YWN0aW9uOiBhY3Rpb24sXG5cdFx0XHRcdFx0cGF5bG9hZDogaW5mbyxcblx0XHRcdFx0XHRfd3Bub25jZTogX3dwbm9uY2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbGxiYWNrKCB7IHN1Y2Nlc3M6ZmFsc2UsIGVycm9yOmluZm8gfSApXG5cdFx0fVxuXHR9KVxufVxuXG5cbmNvbnN0IGxvZ2luID0gKCBvcHRzLCBjYWxsYmFjayApID0+IHtcblxuXHRjb25zdCB7IGFjdGlvbiwgcGF5bG9hZCwgX3dwbm9uY2UgfSA9IG9wdHM7XG5cblx0d2ViYXV0aG5BdXRoZW50aWNhdGUoIHBheWxvYWQsICggc3VjY2VzcywgaW5mbyApID0+IHtcblx0XHRjYWxsYmFjayggeyBzdWNjZXNzLCByZXN1bHQ6IGluZm8gfSApXG5cdH0pXG59XG5cbmNvbnN0IHNlbmRSZXF1ZXN0ID0gKCBvcHRzLCBjYWxsYmFjayApID0+IHtcblxuXHRjb25zdCB7IGFjdGlvbiwgcGF5bG9hZCwgX3dwbm9uY2UgfSA9IG9wdHM7XG5cblx0JC5hamF4KHtcblx0XHR1cmw6IHdwLmFqYXguc2V0dGluZ3MudXJsLFxuXHRcdG1ldGhvZDogJ3Bvc3QnLFxuXHRcdGRhdGE6IHtcblx0XHRcdGFjdGlvbjogYWN0aW9uLFxuXHRcdFx0cGF5bG9hZDogcGF5bG9hZCxcblx0XHRcdF93cG5vbmNlOiBfd3Bub25jZVxuXHRcdH0sXG5cdFx0c3VjY2VzczpjYWxsYmFja1xuXHR9KVxufVxuXG5jb25zdCBpc1dlYmF1dGhuU3VwcG9ydGVkID0gJ2NyZWRlbnRpYWxzJyBpbiBuYXZpZ2F0b3JcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHJlZ2lzdGVyLFxuXHRsb2dpbixcblx0c2VuZFJlcXVlc3QsXG5cdGlzV2ViYXV0aG5TdXBwb3J0ZWRcbn1cbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSdcbmltcG9ydCB7IGxvZ2luLCBpc1dlYmF1dGhuU3VwcG9ydGVkIH0gZnJvbSAnZGF2aWRlYXJsLXdlYmF1dGhuJ1xuXG4vKipcbiAqXHRTb21lIFBhc3N3b3JkIE1hbmFnZXJzIChsaWtlIG5leHRjbG91ZCBwYXNzd29yZHMpIHNlZW0gdG8gYWJvcnQgdGhlXG4gKlx0a2V5IGJyb3dzZXIgZGlhbG9nLlxuICpcdFdlIGhhdmUgdG8gcmV0cnkgYSBjb3VwbGUgb2YgdGltZXMgdG9cbiAqL1xuY29uc3QgYXV0aCA9ICgpID0+IHtcblx0JCgnLndlYmF1dGhuLXJldHJ5JykucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKVxuXHRsb2dpbiggd2luZG93LndlYmF1dGhuTDEwbiwgcmVzcG9uc2UgPT4ge1xuXHRcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdCQoJyN3ZWJhdXRobl9yZXNwb25zZScpLnZhbCggcmVzcG9uc2UucmVzdWx0IClcblx0XHRcdCQoICcjbG9naW5mb3JtJyApLnN1Ym1pdCgpXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHNob3cgcmV0cnktYnV0dG9uXG5cdFx0XHQkKCcud2ViYXV0aG4tcmV0cnknKS5hZGRDbGFzcygndmlzaWJsZScpXG5cdFx0fVxuXHR9ICk7XG59XG5cbmlmICggISB3aW5kb3cud2ViYXV0aG5MMTBuICkge1xuXHRjb25zb2xlLmVycm9yKCAnd2ViYXV0aEwxMG4gaXMgbm90IGRlZmluZWQnICk7XG59O1xuXG5pZiAoIGlzV2ViYXV0aG5TdXBwb3J0ZWQgKSB7XG5cdCQoZG9jdW1lbnQpXG5cdFx0LnJlYWR5KCAoKSA9PiBhdXRoKCkgKVxuXHRcdC5vbignY2xpY2snLCcud2ViYXV0aG4tcmV0cnktbGluaycsICgpID0+IGF1dGgoKSApO1xufSBlbHNlIHtcblx0Ly8gc2hvdyBtZXNzYWdlXG5cdCQoJy53ZWJhdXRobi11bnN1cHBvcnRlZCcpLmFkZENsYXNzKCd2aXNpYmxlJylcbn1cbiJdfQ==